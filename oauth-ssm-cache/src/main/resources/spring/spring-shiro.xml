<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- 定义注解，必须配置好扫描包之后才可以扫描该包中所有类上出现的注解信息 -->
    <context:component-scan base-package="com.macfu"/>
    <!-- 进行Shiro中缓存管理器的配置，现在就实现了EhCache-shiro组件的配置 -->
    <bean id="cacheManger" class="org.apache.shiro.cache.ehcache.EhCacheManager">
        <!-- 配置Ehcache组件要使用的配置文件路径 -->
        <property name="cacheManagerConfigFile" value="classpath:shiro/ehcache.xml"/>
    </bean>

    <!-- 设置RememberMe的Cookie存储配置类，使用的类同SessionIdCookie -->
    <bean id="rememberCookie" class="org.apache.shiro.web.servlet.SimpleCookie">
        <!-- 在进行Cookie存储的时候都会存储一组信息，而这组信息一定是加密的 -->
        <property name="name" value="macfu-remember"/>
        <!-- 很多时候RememberMe可能只记录30天左右，如果不设置则无线长-->
        <property name="maxAge" value="2592000"/>
    </bean>

    <!-- 定义项目之中要是使用的认证与授权处理的Realm对象,该对象一定要配置到安全管理器之中 -->
    <bean id="memberRealm" class="com.macfu.ssm.realm.MemberRealm">
        <property name="credentialsMatcher">
            <bean class="com.macfu.ssm.realm.matcher.DefaultCredentialsMatcher"/>
        </property>
    </bean>

    <!-- 配置SessionManager,进行Session管理操作 -->
    <bean id="sessionManager" class="org.apache.shiro.web.session.mgt.DefaultWebSessionManager">
        <!-- 定义sessionID的生成规则以及数据操作对象 -->
        <property name="sessionDAO" ref="sessionDAO"/>
        <!-- 定义SessionID的Cookie保存的策略操作 -->
        <property name="sessionIdCookie" ref="sessionIdCookie"/>
        <!-- 默认启用Cookie进行SessionID存储 -->
        <property name="sessionIdCookieEnabled" value="true"/>
    </bean>

    <bean id="securityManager" class="org.apache">
</beans>